# 微信小程序产品需求文档（PRD）

## 一、项目背景与目标

随着健康生活理念的普及，用户越来越关注**食材的营养价值与个性化饮食推荐**。水果作为高频消费品，其**价格差异、品种多样化以及健康适配度**是消费者关心的重点。\
本项目目标是开发一款 **微信小程序**，通过 **拍照识别 + 数据比对 +
个性化推荐**
三大功能，帮助用户快速了解水果品种特点，并结合个人健康信息做出**个性化推荐**。

------------------------------------------------------------------------

## 二、核心功能

1.  **拍照识别水果标签与水果图片**
    -   用户通过拍照或上传图片，系统识别水果品种/标签。
    -   支持识别超市标签（如"麒麟瓜"、"无籽瓜"等）和实物水果图片。
2.  **水果品种对比功能**
    -   同类水果下不同品种的对比（价格、口感、营养成分、糖度）。\
    -   支持不同水果之间横向对比。
3.  **个性化推荐**
    -   结合用户健康数据（如血糖、减脂需求、过敏史）。\
    -   融合用户偏好（口味喜好、价格敏感度）。\
    -   输出推荐水果清单和购买建议。

------------------------------------------------------------------------

## 三、页面描述与操作流程

### 1. **首页（入口页）**

-   **页面元素**
    -   搜索框（支持手动输入水果名）\
    -   "拍照识别"按钮\
    -   "我的推荐"快捷入口\
    -   "水果对比"入口\
    -   今日推荐 banner\
-   **用户操作**
    -   点击拍照按钮 → 打开相机 → 上传水果图片或标签 →
        识别成功后进入【识别结果页】。\
    -   输入水果名称 → 跳转【水果详情页】。\
-   **规则**
    -   未授权相机权限 → 弹出权限引导。\
    -   识别失败 → 提示"未识别成功，请重试或输入名称"。

------------------------------------------------------------------------

### 2. **识别结果页**

-   **页面元素**
    -   水果图片（拍摄图+识别结果图）\
    -   品种名称（如：麒麟瓜）\
    -   关键信息（价格区间、糖度、营养值）\
    -   "加入对比"按钮\
    -   "查看推荐"按钮\
-   **用户操作**
    -   确认识别结果 → 点击"查看详情"进入【水果详情页】。\
    -   点击"加入对比" → 添加至对比清单 → 跳转【水果对比页】。\
-   **规则**
    -   识别结果可能返回多个候选 → 用户选择其中一个。\
    -   加入对比需至少两个水果才能进入对比页。

------------------------------------------------------------------------

### 3. **水果详情页**

-   **页面元素**
    -   水果名称与图片\
    -   详细信息（价格、口感、糖度、维生素含量等）\
    -   食用建议（健康提示，如"糖尿病患者不建议过量"）\
    -   "加入对比"按钮\
    -   "推荐给我"按钮\
-   **操作流程**
    -   点击"加入对比" → 存入对比清单\
    -   点击"推荐给我" → 进入【个性化推荐页】

------------------------------------------------------------------------

### 4. **水果对比页**

-   **页面元素**
    -   对比水果列表（最多 3 个）\
    -   参数对比表（价格、口感、糖度、营养维度）\
    -   推荐结论（例如："若注重减肥，推荐无籽瓜；若追求甜度，推荐麒麟瓜"）\
-   **规则**
    -   对比清单可动态增减\
    -   超过 3 个水果 → 弹窗提示"最多可对比 3 种"

------------------------------------------------------------------------

### 5. **个性化推荐页**

-   **页面元素**
    -   用户健康档案卡片（血糖水平、减脂目标、过敏史等）\
    -   推荐水果清单（按优先级排序）\
    -   推荐理由（结合健康需求和口味偏好）\
    -   一键收藏/分享功能\
-   **操作流程**
    -   用户可选择"调整偏好" → 修改健康数据或喜好 → 重新生成推荐结果\
-   **规则**
    -   若用户未填写健康数据 → 默认基于大众推荐逻辑

------------------------------------------------------------------------

## 四、功能逻辑与规则描述

1.  **拍照识别模块**
    -   基于 OCR（文字识别）与图像识别（CV 模型）结合\
    -   优先识别水果标签 → 失败时启用图像识别\
    -   返回结果需附带置信度，置信度低时给出多选项
2.  **对比模块**
    -   数据维度：价格、口感（主观标签）、营养成分、糖度（数值型）\
    -   采用表格形式展现，支持高亮差异化字段
3.  **个性化推荐模块**
    -   推荐逻辑：
        -   **健康优先级 \> 用户偏好 \> 价格敏感度**\
    -   示例：
        -   用户血糖偏高 → 限制高糖水果，优先推荐低糖度\
        -   用户目标减脂 → 优先推荐低热量水果
4.  **异常情况**
    -   网络异常 → 弹出"网络连接失败，请稍后再试"\
    -   相机权限拒绝 → 弹出引导并提供手动输入\
    -   数据未匹配 → 提示"暂无该水果信息，是否反馈？"

------------------------------------------------------------------------

## 五、系统架构设计

### 1. **前端架构（小程序端）**

-   基于 **微信小程序框架**\
-   模块划分：
    -   拍照识别模块\
    -   水果详情展示模块\
    -   对比模块\
    -   个性化推荐模块\
    -   用户信息管理模块

### 2. **后端架构**

-   技术栈：Node.js + Python（识别服务）\
-   模块划分：
    -   用户数据管理（健康档案、喜好记录）\
    -   水果数据库（价格、营养、品种信息）\
    -   图像识别与 OCR 接口\
    -   推荐算法引擎

### 3. **数据流转**

-   用户上传图片 → 图像识别服务 → 返回水果信息\
-   查询数据库 → 获取详细信息 → 前端展示\
-   推荐算法引擎 → 输出个性化推荐

------------------------------------------------------------------------

## 六、项目推进规划

1.  **阶段 1：需求调研与设计（2 周）**
    -   用户访谈 + 市场调研\
    -   原型设计（低保真 → 高保真）\
    -   确认数据源（水果信息数据库）
2.  **阶段 2：核心功能开发（4 周）**
    -   图像识别模块接入\
    -   水果数据库搭建\
    -   基础页面开发（首页/识别页/详情页）
3.  **阶段 3：推荐系统开发（3 周）**
    -   健康数据录入功能\
    -   推荐算法实现\
    -   个性化推荐页上线
4.  **阶段 4：测试与优化（2 周）**
    -   功能测试 + 用户体验测试\
    -   识别准确率优化\
    -   推荐结果优化
5.  **阶段 5：上线与迭代**
    -   小范围灰度发布\
    -   收集反馈\
    -   版本迭代（添加购物链接/社区功能）

------------------------------------------------------------------------

## 七、界面与交互风格

-   **整体风格**：清新简约，绿色+白色为主色调，突出"健康感"。\
-   **交互设计**：
    -   强调操作流畅 → 尽量减少层级跳转\
    -   使用卡片式展示水果信息\
    -   数据可视化（营养成分用图表展示）

------------------------------------------------------------------------

## 八、落地实施建议

1.  **数据准备**：与电商平台/农产品数据库合作，确保水果信息完整性。\
2.  **算法合作**：优先采用成熟的 OCR + 图像识别 API（如百度
    AI、腾讯云），缩短开发周期。\
3.  **用户数据隐私**：严格遵守微信小程序合规要求，健康数据加密存储。\
4.  **增长策略**：结合微信社交分享裂变（"测测你的最佳水果"），提升用户留存。
